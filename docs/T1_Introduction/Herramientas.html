<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alan R. Vázquez">

<title>IN2039 Data Visualization - Herramientas para construir gráficas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
<script src="../site_libs/countdown-0.4.0/countdown.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      IN2039 Data Visualization
      </li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">IN2039 Data Visualization</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TEC-IN2039-Website.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#agenda" id="toc-agenda" class="nav-link active" data-scroll-target="#agenda">Agenda</a></li>
  <li><a href="#r-software" id="toc-r-software" class="nav-link" data-scroll-target="#r-software">R software</a></li>
  <li><a href="#r-studio" id="toc-r-studio" class="nav-link" data-scroll-target="#r-studio">R Studio</a></li>
  <li><a href="#google-colab" id="toc-google-colab" class="nav-link" data-scroll-target="#google-colab">Google Colab</a></li>
  <li><a href="#probemos-un-comando-en-r" id="toc-probemos-un-comando-en-r" class="nav-link" data-scroll-target="#probemos-un-comando-en-r">Probemos un comando en R</a></li>
  <li><a href="#probemos-un-comando-en-r-1" id="toc-probemos-un-comando-en-r-1" class="nav-link" data-scroll-target="#probemos-un-comando-en-r-1">Probemos un comando en R</a></li>
  <li><a href="#probemos-otro-comando" id="toc-probemos-otro-comando" class="nav-link" data-scroll-target="#probemos-otro-comando">Probemos otro comando</a></li>
  <li><a href="#probemos-otro-comando-1" id="toc-probemos-otro-comando-1" class="nav-link" data-scroll-target="#probemos-otro-comando-1">Probemos otro comando</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#comentarios" id="toc-comentarios" class="nav-link" data-scroll-target="#comentarios">Comentarios</a></li>
  <li><a href="#introducción-a-funciones-en-r" id="toc-introducción-a-funciones-en-r" class="nav-link" data-scroll-target="#introducción-a-funciones-en-r">Introducción a funciones en R</a></li>
  <li><a href="#r-es-exigente" id="toc-r-es-exigente" class="nav-link" data-scroll-target="#r-es-exigente">R es exigente</a></li>
  <li><a href="#guarda-tu-trabajo-en-objetos-de-r" id="toc-guarda-tu-trabajo-en-objetos-de-r" class="nav-link" data-scroll-target="#guarda-tu-trabajo-en-objetos-de-r">Guarda tu trabajo en objetos de R</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#vectores" id="toc-vectores" class="nav-link" data-scroll-target="#vectores">Vectores</a></li>
  <li><a href="#por-ejemplo" id="toc-por-ejemplo" class="nav-link" data-scroll-target="#por-ejemplo">Por ejemplo</a></li>
  <li><a href="#operaciones" id="toc-operaciones" class="nav-link" data-scroll-target="#operaciones">Operaciones</a></li>
  <li><a href="#mini-actividad-solo-mode" id="toc-mini-actividad-solo-mode" class="nav-link" data-scroll-target="#mini-actividad-solo-mode">Mini-actividad (<em>solo</em> mode)</a></li>
  <li><a href="#indexación" id="toc-indexación" class="nav-link" data-scroll-target="#indexación">Indexación</a></li>
  <li><a href="#un-poco-más-sobre-objetos-en-r" id="toc-un-poco-más-sobre-objetos-en-r" class="nav-link" data-scroll-target="#un-poco-más-sobre-objetos-en-r">Un poco más sobre objetos en R</a></li>
  <li><a href="#valores-numéricos" id="toc-valores-numéricos" class="nav-link" data-scroll-target="#valores-numéricos">Valores numéricos</a></li>
  <li><a href="#valores-de-carácter" id="toc-valores-de-carácter" class="nav-link" data-scroll-target="#valores-de-carácter">Valores de carácter</a></li>
  <li><a href="#valores-booleanos" id="toc-valores-booleanos" class="nav-link" data-scroll-target="#valores-booleanos">Valores booleanos</a></li>
  <li><a href="#operadores-lógicos" id="toc-operadores-lógicos" class="nav-link" data-scroll-target="#operadores-lógicos">Operadores lógicos</a></li>
  <li><a href="#mini-actividad-solo-mode-1" id="toc-mini-actividad-solo-mode-1" class="nav-link" data-scroll-target="#mini-actividad-solo-mode-1">Mini-actividad (<em>solo</em> mode)</a></li>
  <li><a href="#lista-de-operadores-lógicos-comunes" id="toc-lista-de-operadores-lógicos-comunes" class="nav-link" data-scroll-target="#lista-de-operadores-lógicos-comunes">Lista de operadores lógicos comunes</a></li>
  <li><a href="#la-cultura-de-programación-prueba-y-error" id="toc-la-cultura-de-programación-prueba-y-error" class="nav-link" data-scroll-target="#la-cultura-de-programación-prueba-y-error">La cultura de programación: Prueba y error</a></li>
  <li><a href="#librerías-en-r" id="toc-librerías-en-r" class="nav-link" data-scroll-target="#librerías-en-r">Librerías en R</a></li>
  <li><a href="#cómo-cargar-datos-en-r" id="toc-cómo-cargar-datos-en-r" class="nav-link" data-scroll-target="#cómo-cargar-datos-en-r">¿Cómo cargar datos en R?</a>
  <ul class="collapse">
  <li><a href="#organización-de-datos" id="toc-organización-de-datos" class="nav-link" data-scroll-target="#organización-de-datos">Organización de datos</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#cargar-datos-en-r" id="toc-cargar-datos-en-r" class="nav-link" data-scroll-target="#cargar-datos-en-r">Cargar datos en R</a></li>
  <li><a href="#librería-readxl" id="toc-librería-readxl" class="nav-link" data-scroll-target="#librería-readxl">Librería <code>readxl</code></a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  </ul></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2">ggplot2</a>
  <ul class="collapse">
  <li><a href="#ggplot2-1" id="toc-ggplot2-1" class="nav-link" data-scroll-target="#ggplot2-1"><code>ggplot2</code></a></li>
  <li><a href="#instalación" id="toc-instalación" class="nav-link" data-scroll-target="#instalación">Instalación</a></li>
  <li><a href="#la-estructura-de-ggplot" id="toc-la-estructura-de-ggplot" class="nav-link" data-scroll-target="#la-estructura-de-ggplot">La estructura de ggplot</a></li>
  <li><a href="#ejemplo" id="toc-ejemplo" class="nav-link" data-scroll-target="#ejemplo">Ejemplo</a></li>
  <li><a href="#ejemplo-1" id="toc-ejemplo-1" class="nav-link" data-scroll-target="#ejemplo-1">Ejemplo</a></li>
  <li><a href="#ejemplo-2" id="toc-ejemplo-2" class="nav-link" data-scroll-target="#ejemplo-2">Ejemplo</a></li>
  <li><a href="#ejemplo-3" id="toc-ejemplo-3" class="nav-link" data-scroll-target="#ejemplo-3">Ejemplo</a></li>
  <li><a href="#mini-actividad-solo-mode-2" id="toc-mini-actividad-solo-mode-2" class="nav-link" data-scroll-target="#mini-actividad-solo-mode-2">Mini-actividad (<em>solo</em> mode)</a></li>
  </ul></li>
  <li><a href="#regresar-a-página-principal" id="toc-regresar-a-página-principal" class="nav-link" data-scroll-target="#regresar-a-página-principal">Regresar a página principal</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Herramientas.slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Herramientas para construir gráficas</h1>
<p class="subtitle lead">IN2039: Visualización de Datos</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Alan R. Vázquez </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Departamento de Ingeniería Industrial
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="agenda" class="level3">
<h3 class="anchored" data-anchor-id="agenda">Agenda</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li><p>R Software</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-148304512.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="281"></p>
</figure>
</div></li>
</ol>
</div><div class="column" style="width:50%;">
<ol start="2" type="1">
<li><p>ggplot2</p>
<p><img src="images/clipboard-4021595969.png" class="img-fluid" width="265"></p></li>
</ol>
</div>
</div>
<div style="font-size: 70%;">
<p>Estas diapositivas están basadas en material disponible en <a href="https://coursekata.org/" class="uri">https://coursekata.org/</a></p>
</div>
</section>
<section id="r-software" class="level3">
<h3 class="anchored" data-anchor-id="r-software">R software</h3>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li><p>R es un lenguaje de programación estadística.</p></li>
<li><p>Es gratuito!</p></li>
<li><p>Te permite crear gráficos y hacer computación estadística.</p></li>
<li><p>Se puede extender con paquetes (librerías) desarrolladas por otros usuarios.</p></li>
</ul>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-148304512.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="324"></p>
</figure>
</div>
</div>
</div>
<div class="notes">
<p>Para hacer gráficos o visualizaciones se tiene que usar la computadora y programas especiales. Hay muchos como Python tableu, o incluso, excel. Sin embargo los mas bonitos son los de R.</p>
<p>El conocer r te ayudara a tu CV porque, después de este curso, puedes poner conocimiento básico de analysis de datos con R.</p>
</div>
</section>
<section id="r-studio" class="level3">
<h3 class="anchored" data-anchor-id="r-studio">R Studio</h3>
<p>R Studio es una interfaz conveniente para R llamada IDE (<em>integrated development environment</em>). Comúnmente, yo digo “Escribo código R en RStudio”</p>
<p>R Studio no es un requisito para programar con R, pero los programadores y científicos de datos de R lo utilizan con mucha frecuencia.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3369988845.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="google-colab" class="level3">
<h3 class="anchored" data-anchor-id="google-colab">Google Colab</h3>
<p><em>Plataforma de colaboración en la nube gratuita de Google para la creación de documentos de Python o R.</em></p>
<ul>
<li><p>Ejecuta R y colabora en notebooks de Jupyter de forma gratuita.</p></li>
<li><p>Aprovecha el poder de la GPU de forma gratuita para acelerar tus proyectos de ciencia de datos.</p></li>
<li><p>Guarda y carga fácilmente tus notebooks en Google Drive.</p></li>
</ul>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="images/Google_Colaboratory_SVG_Logo.svg.png" class="img-fluid quarto-figure quarto-figure-right figure-img" width="2560"></p>
</figure>
</div>
</section>
<section id="probemos-un-comando-en-r" class="level3">
<h3 class="anchored" data-anchor-id="probemos-un-comando-en-r">Probemos un comando en R</h3>
<p>¿Qué crees que suceda si ejecutamos este comando?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Helllo world!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="probemos-un-comando-en-r-1" class="level3">
<h3 class="anchored" data-anchor-id="probemos-un-comando-en-r-1">Probemos un comando en R</h3>
<p>¿Qué crees que suceda si ejecutamos este comando?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Helllo world!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Helllo world!"</code></pre>
</div>
</div>
</section>
<section id="probemos-otro-comando" class="level3">
<h3 class="anchored" data-anchor-id="probemos-otro-comando">Probemos otro comando</h3>
<p>¿Qué crees que suceda si ejecutamos este comando?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="probemos-otro-comando-1" class="level3">
<h3 class="anchored" data-anchor-id="probemos-otro-comando-1">Probemos otro comando</h3>
<p>¿Qué crees que suceda si ejecutamos este comando?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
</div>
</section>
<section id="section" class="level3">
<h3 class="anchored" data-anchor-id="section"></h3>
<p>También puedes usar R como una calculadora básica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="sc">/</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="comentarios" class="level3">
<h3 class="anchored" data-anchor-id="comentarios">Comentarios</h3>
<p>A veces escribimos cosas en la ventana de codificación de R que queremos que R ignore. Estos se llaman comentarios y comienzan con <code>#</code>.</p>
<p>. . .</p>
<p>R ignorará los comentarios y simplemente ejecutará el código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># puedes poner lo que sea despues de #</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># por ejemplo... blah blah blah</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p>Si desea escribir un comentario que ocupe más de una línea, es una buena idea poner un # al principio de cada línea.</p>
</div>
</section>
<section id="introducción-a-funciones-en-r" class="level3">
<h3 class="anchored" data-anchor-id="introducción-a-funciones-en-r">Introducción a funciones en R</h3>
<p>Una de las mejores cosas de R es que hay muchos comandos integrados que puedes usar. Éstas se llaman <em>funciones</em>.</p>
<p>. . .</p>
<p>Las funciones tienen dos partes básicas:</p>
<div class="incremental">
<ul class="incremental">
<li><p>La primera parte es el nombre de la función (por ejemplo, <code>sum</code>).</p></li>
<li><p>La segunda parte es la entrada a la función, que va dentro del paréntesis (<code>sum(1, 5, 15)</code>).</p></li>
</ul>
</div>
</section>
<section id="r-es-exigente" class="level3">
<h3 class="anchored" data-anchor-id="r-es-exigente">R es exigente</h3>
<p>R, al igual que todos los lenguajes de programación, es muy, muy exigente. Por ejemplo, si escribes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 101</code></pre>
</div>
</div>
<p>te dirá la respuesta, 101.</p>
<p>. . .</p>
<p>Pero si escribes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sum</span>(<span class="dv">1</span>, <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in Sum(1, 100): could not find function "Sum"</code></pre>
</div>
</div>
<p>con la “s” en mayúscula, ¡actuará como si no tuviera idea de lo que está hablando!</p>
<div class="notes">
<p>lo mismo si olvidas incluir un parentesis</p>
</div>
</section>
<section id="guarda-tu-trabajo-en-objetos-de-r" class="level3">
<h3 class="anchored" data-anchor-id="guarda-tu-trabajo-en-objetos-de-r">Guarda tu trabajo en objetos de R</h3>
<p>Prácticamente cualquier cosa, incluidos los resultados de cualquier función de R, se puede guardar en un <em>objeto</em>.</p>
<p>Esto se logra mediante el uso de un operador de asignación, que se parece a una flecha (<code>&lt;-</code> o <code>=</code>).</p>
<p>. . .</p>
<p>Puede inventar cualquier nombre que desees para un objeto R. Sin embargo, hay dos reglas básicas para esto:</p>
<div class="incremental">
<ol class="incremental" type="1">
<li>Tiene que ser diferente del nombre de una función en R.</li>
<li>Tiene que ser lo más específico posible.</li>
</ol>
</div>
</section>
<section id="section-1" class="level3">
<h3 class="anchored" data-anchor-id="section-1"></h3>
<p>Por ejemplo,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Este código asignará el numero 18 al objeto llamado mi_numero_favorito</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>mi_numero_favorito <span class="ot">=</span> <span class="dv">18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Después de ejecutar este código, no sucede nada. Pero si lo ejecutamos el objeto por si solo, podremos ver lo qua hay en el.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mi_numero_favorito <span class="ot">=</span> <span class="dv">18</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>mi_numero_favorito</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
</div>
<p>También puedes usar <code>print(mi_numero_favorito)</code>.</p>
</section>
<section id="vectores" class="level3">
<h3 class="anchored" data-anchor-id="vectores">Vectores</h3>
<p>Hasta ahora hemos utilizado objetos R para almacenar un solo número. Pero en estadística estamos tratando con variación, que por definición significa más de un número.</p>
<p>. . .</p>
<p>Un objeto R también puede almacenar un conjunto completo de números, llamado <em>vector</em>.</p>
<p>Puedes pensar en un vector como una lista de números (o valores).</p>
<p>. . .</p>
<p>La función <code>c()</code> se puede utilizar para combinar una lista de valores individuales en un vector.</p>
<div class="notes">
<p>puedes pensar que el c es por combinar</p>
</div>
</section>
<section id="por-ejemplo" class="level3">
<h3 class="anchored" data-anchor-id="por-ejemplo">Por ejemplo</h3>
<p>Este código crea dos vectores</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mi_vector <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>mi_vector_2 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Veamos su contenido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mi_vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>mi_vector_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 10 10 10 10</code></pre>
</div>
</div>
</section>
<section id="operaciones" class="level3">
<h3 class="anchored" data-anchor-id="operaciones">Operaciones</h3>
<p>Podemos hacer operaciones simples con vectores. Por ejemplo, podemos multiplicar todos los elementos de un vector por 100.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>mi_vector <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span><span class="sc">*</span>mi_vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 200 300 400 500</code></pre>
</div>
</div>
<p>A pesar de que multiplicaste el vector por un valor, este no se modifica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>mi_vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
</div>
</section>
<section id="mini-actividad-solo-mode" class="level3">
<h3 class="anchored" data-anchor-id="mini-actividad-solo-mode">Mini-actividad (<em>solo</em> mode)</h3>
<ol type="1">
<li>Escribe código para dividir el vector <code>mi_vector</code> por 2.</li>
<li>Guarda el resultado en un nuevo vector llamado <code>mi_nuevo_vector</code>.</li>
<li>Prueba el siguiente comando <code>sum(mi_nuevo_vector)</code>. ¿Qué obtuviste?</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_f67a8670" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">08</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="indexación" class="level3">
<h3 class="anchored" data-anchor-id="indexación">Indexación</h3>
<p>Podemos indexar una posición en el vector usando corchetes con un número como este: <code>[1]</code>.</p>
<p>Entonces, si quisiéramos imprimir el contenido de la primera posición en <code>mi_vector</code>, podríamos escribir</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>mi_vector[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="un-poco-más-sobre-objetos-en-r" class="level3">
<h3 class="anchored" data-anchor-id="un-poco-más-sobre-objetos-en-r">Un poco más sobre objetos en R</h3>
<p>Puedes pensar en los objetos R como depósitos que contienen valores.</p>
<p>Un objeto R puede contener un solo valor o puede contener un grupo de valores (como en el caso de un vector).</p>
<p>Hasta ahora, sólo hemos puesto números en objetos R.</p>
<p>. . .</p>
<p><br></p>
<p><strong><em>Los objetos R en realidad pueden contener tres tipos de valores: números, caracteres y valores booleanos.</em></strong></p>
</section>
<section id="valores-numéricos" class="level3">
<h3 class="anchored" data-anchor-id="valores-numéricos">Valores numéricos</h3>
<p>Si R sabe que estás usando números, puede hacer muchas cosas con ellos. Hemos visto, por ejemplo, que R puede realizar operaciones aritméticas con números: suma, resta, multiplicación y división.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aquí hay dos formas de crear un vector numérico con los </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># números del 1 al 10.</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>mi_num_1 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>mi_num_2 <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Obtenemos lo mismo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mi_num_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>mi_num_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
</section>
<section id="valores-de-carácter" class="level3">
<h3 class="anchored" data-anchor-id="valores-de-carácter">Valores de carácter</h3>
<p>Los caracteres se componen de texto, como palabras u oraciones. Un ejemplo de un vector con caracteres como elementos es:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>muchos_holas <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"hi"</span>, <span class="st">"hello"</span>, <span class="st">"hola"</span>, <span class="st">"bonjour"</span>, <span class="st">"ni hao"</span>, <span class="st">"merhaba"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>muchos_holas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"      "hello"   "hola"    "bonjour" "ni hao"  "merhaba"</code></pre>
</div>
</div>
<p>. . .</p>
<p>Es importante saber que los números también se pueden tratar como caracteres, dependiendo del contexto.</p>
<p>Por ejemplo, cuando 20 está entre comillas (<code>"20"</code>) se tratará como un valor de carácter, aunque incluya un número entre comillas.</p>
</section>
<section id="valores-booleanos" class="level3">
<h3 class="anchored" data-anchor-id="valores-booleanos">Valores booleanos</h3>
<p>Los valores booleanos son <code>TRUE</code> o <code>FALSE</code>.</p>
<p>Quizás tengamos una pregunta como:</p>
<ul>
<li>¿El primer elemento del vector <code>muchos_holas</code> es <code>"hola"</code>?</li>
</ul>
<p>. . .</p>
<p>Podemos pedirle a R que averigüe y devuelva la respuesta <code>TRUE</code> o <code>FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>muchos_holas[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"hola"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="operadores-lógicos" class="level3">
<h3 class="anchored" data-anchor-id="operadores-lógicos">Operadores lógicos</h3>
<p>La mayoría de las preguntas que le pedimos a R que responda con a <code>TRUE</code> o <code>FALSE</code> involucran operadores de comparación como <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code> y <code>==</code>.</p>
<p>El doble <code>==</code> signo comprueba si dos valores son iguales. Incluso existe un operador de comparación para comprobar si los valores <em>no</em> son iguales: <code>!=</code>.</p>
<p>Por ejemplo, <code>5 != 3</code> es una declaración <code>TRUE</code>.</p>
</section>
<section id="mini-actividad-solo-mode-1" class="level3">
<h3 class="anchored" data-anchor-id="mini-actividad-solo-mode-1">Mini-actividad (<em>solo</em> mode)</h3>
<ol type="1">
<li>Lee este código y predice su respuesta. Después, corre el código en Google Colab y valida si estabas en lo correcto.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>compare <span class="ot">=</span> A <span class="sc">&gt;</span> B</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>compare</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Repite lo mismo con el siguiente código.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>mis_numeros <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>mis_booleanos <span class="ot">=</span> mis_numeros <span class="sc">&gt;=</span> <span class="dv">5</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>mis_numeros</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>mis_booleanos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_df7be51f" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="lista-de-operadores-lógicos-comunes" class="level3">
<h3 class="anchored" data-anchor-id="lista-de-operadores-lógicos-comunes">Lista de operadores lógicos comunes</h3>
<ul>
<li><p><code>&gt;</code> (<em>mayor que</em>)</p></li>
<li><p><code>&gt;=</code> (<em>mayor o igual a que</em>)</p></li>
<li><p><code>&lt;</code> (<em>menor que</em>)</p></li>
<li><p><code>&lt;=</code> (<em>menor o igual a que</em>)</p></li>
<li><p><code>==</code> (<em>igual a</em>)</p></li>
<li><p><code>!=</code> (<em>diferente de</em>)</p></li>
</ul>
</section>
<section id="la-cultura-de-programación-prueba-y-error" class="level3">
<h3 class="anchored" data-anchor-id="la-cultura-de-programación-prueba-y-error">La cultura de programación: Prueba y error</h3>
<p>La mejor manera de aprender a programar es probar cosas y ver qué sucede. Escribe un código, ejecútalo y piensa por qué no funcionó.</p>
<p>Hay muchas maneras de cometer pequeños errores en la programación (por ejemplo, escribir una letra mayúscula cuando se necesita una letra minúscula).</p>
<p>A menudo tenemos que encontrar estos errores mediante prueba y error.</p>
</section>
<section id="librerías-en-r" class="level3">
<h3 class="anchored" data-anchor-id="librerías-en-r">Librerías en R</h3>
<ul>
<li><p>Los paquetes son las unidades fundamentales del código R reproducible. Incluyen funciones R re-utilizables, la documentación que describe cómo usarlas y datos de muestra.</p></li>
<li><p>En septiembre de 2020, hay más de 16, 000 paquetes disponibles en CRAN (la red integral de archivos R)</p></li>
<li><p>Trabajaremos mayormente con las librerías <code>readxl</code>, <code>dplyr</code>, <code>ggplot2</code>, y <code>ggformula</code>.</p></li>
</ul>
</section>
<section id="cómo-cargar-datos-en-r" class="level2">
<h2 class="anchored" data-anchor-id="cómo-cargar-datos-en-r">¿Cómo cargar datos en R?</h2>
<section id="organización-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="organización-de-datos">Organización de datos</h3>
<p>En estadística, organizamos los datos en filas y columnas.</p>
<div class="center">
<pre><code>    Condition  Age   Wt    Wt2
1  Uninformed   35  136  135.8
2  Uninformed   45  162  161.8
3    Informed   52  117  116.8
4    Informed   29  184  182.8
5  Uninformed   38  134  136.6
6    Informed   39  189  183.2</code></pre>
</div>
<p>. . .</p>
<p>Las filas son los casos muestreados. En este ejemplo, las filas son amas de llaves de diferentes hoteles. Hay seis filas, por lo que hay seis amas de casa en este conjunto de datos.</p>
<p>. . .</p>
<p>Dependiendo del estudio, las filas podrían ser personas, estados, parejas, ratones, cualquier caso del que tomes una muestra para estudiarlo.</p>
</section>
<section id="section-2" class="level3">
<h3 class="anchored" data-anchor-id="section-2"></h3>
<div class="columns">
<div class="column" style="width:50%;">
<p>Las columnas representan variables o los atributos de cada caso que se midieron.</p>
</div><div class="column" style="width:50%;">
<pre><code>    Condition  Age   Wt    Wt2
1  Uninformed   35  136  135.8
2  Uninformed   45  162  161.8
3    Informed   52  117  116.8
4    Informed   29  184  182.8
5  Uninformed   38  134  136.6
6    Informed   39  189  183.2</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>En este estudio, se informó o no a las amas de llaves que su trabajo diario de limpieza de habitaciones de hotel equivalía a hacer ejercicio adecuado para una buena salud.</p>
<p>. . .</p>
<p><br></p>
<p>Entonces una de las variables, <code>Condition</code>, indica si fueron informados de este hecho o no.</p>
</section>
<section id="section-3" class="level3">
<h3 class="anchored" data-anchor-id="section-3"></h3>
<p>Existen otras variables como la edad del ama de llaves (<code>Age</code>), el peso antes de iniciar el estudio (<code>Wt</code>), y su peso al final del estudio (<code>Wt2</code>, medido cuatro semanas después).</p>
<p><br></p>
<p>Por lo tanto, los valores en cada fila representan los valores de ese caso particular en cada una de las variables medidas.</p>
<pre><code>    Condition  Age   Wt    Wt2
1  Uninformed   35  136  135.8
2  Uninformed   45  162  161.8
3    Informed   52  117  116.8
4    Informed   29  184  182.8
5  Uninformed   38  134  136.6
6    Informed   39  189  183.2</code></pre>
<div class="notes">
<p>¿Cuántas variables hay en este conjunto de datos?</p>
</div>
</section>
<section id="cargar-datos-en-r" class="level3">
<h3 class="anchored" data-anchor-id="cargar-datos-en-r">Cargar datos en R</h3>
<p>En este curso, asumiremos que los datos están almacenados en un archivo Excel con la organización anterior. Como ejemplo, usemos el archivo <code>prenguins.xlsx</code>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="images/print_excel.png" class="img-fluid" width="478"></p>
</div><div class="column" style="width:50%;">
<p><img src="images/clipboard-1776523589.png" class="img-fluid" width="475"></p>
</div>
</div>
<p><span style="color:red;"><strong><em>El archivo debe de ser previamente cargado en Google Colab.</em></strong></span></p>
</section>
<section id="librería-readxl" class="level3">
<h3 class="anchored" data-anchor-id="librería-readxl">Librería <code>readxl</code></h3>
<div class="columns">
<div class="column" style="width:70%;">
<p>Para cargar datos en R, usaremos la librería llamada <code>readxl</code>. Primero, debes de instalar esta librería en R utilizando el comando <code>install.packages("readxl")</code></p>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="images/clipboard-2627775172.png" class="img-fluid quarto-figure quarto-figure-right figure-img" width="244"></p>
</figure>
</div>
</div>
</div>
<p><br> Una vez instalada la librería, la cargamos en R usando el siguiente comando.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-4" class="level3">
<h3 class="anchored" data-anchor-id="section-4"></h3>
<p>El siguiente código muestra como leer los datos en el archivo <code>penguins.xlsx</code> en R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"penguins.xlsx"</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprime las primeras 6 filas de los datos.</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2">ggplot2</h2>
<section id="ggplot2-1" class="level3">
<h3 class="anchored" data-anchor-id="ggplot2-1"><code>ggplot2</code></h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/tidyverse.png" class="img-fluid quarto-figure quarto-figure-left figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>ggplot2</strong> es uno de los mejores paquetes gratuitos para construir gráficas.</li>
<li>Es parte de una colección de paquetes de ciencia de datos llamado <em>tidyverse</em>.</li>
<li>Está basado en la <em>Gramática de las Gráficas.</em></li>
<li><a href="https://ggplot2-book.org/" class="uri">https://ggplot2-book.org/</a></li>
</ul>
</div>
</div>
</section>
<section id="instalación" class="level3">
<h3 class="anchored" data-anchor-id="instalación">Instalación</h3>
<div class="columns">
<div class="column" style="width:80%;">
<ol type="1">
<li>Instala la librería usando el comando <code>install.packages("ggplot2")</code></li>
</ol>
</div><div class="column" style="width:20%;">
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="images/clipboard-4021595969.png" class="img-fluid quarto-figure quarto-figure-right figure-img" width="146"></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="1">
<li>Instala una librería auxiliar <code>install.packages("ggformula")</code></li>
</ol>
<p>3. Carga ambas librerías en R usando el siguiente código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-estructura-de-ggplot" class="level3">
<h3 class="anchored" data-anchor-id="la-estructura-de-ggplot">La estructura de ggplot</h3>
<p>ggplot tiene una estructura para crear gráficas por pasos.</p>
<p><span style="color:#619CFF;">gf_PLOTTYPE(Variable2 ~ Variable1, data = my_data, color = ~Variable3, shape = ~Variable4)</span></p>
<p><span style="color:#F8766D;">+ labs(title, subtitle, caption, x, y, color, shape)</span></p>
<p><span style="color:#00BA38;">+ more_options()</span></p>
</section>
<section id="ejemplo" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo">Ejemplo</h3>
<p>¿Existe alguna diferencia entre la longitud y profundidad del pico de las diferentes especies de pingüinos?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/penguins_bill.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="ejemplo-1" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo-1">Ejemplo</h3>
<p>¿Existe alguna diferencia entre la longitud y profundidad del pico de las diferentes especies de pingüinos?</p>
<div class="cell" data-output-location="fragment">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-overflow-wrap code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_point</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, <span class="at">data =</span> penguins_data,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="sc">~</span>species) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Herramientas_files/figure-revealjs/unnamed-chunk-32-1.png" class="img-fluid figure-img" data-fig-pos="center" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ejemplo-2" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo-2">Ejemplo</h3>
<div class="cell" data-output-location="fragment">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r code-overflow-wrap number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">gf_point</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, <span class="at">data =</span> penguins_data, </span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="at">color =</span> <span class="sc">~</span>species) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Profundidad y longitud del pico"</span>, </span>
<span id="cb53-3"><a href="#cb53-3"></a><span class="at">subtitle =</span> <span class="st">"Dimensiones para pingüinos en Adelie,</span></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="st">         Chinstrap, and Gentoo"</span>, </span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="at">x =</span> <span class="st">"Profundidad del pico (mm)"</span>, <span class="at">y =</span> <span class="st">"Longitud del pico (mm)"</span>,</span>
<span id="cb53-6"><a href="#cb53-6"></a><span class="at">color =</span> <span class="st">"Especie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Herramientas_files/figure-revealjs/unnamed-chunk-33-1.png" class="img-fluid figure-img" data-fig-pos="center" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ejemplo-3" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo-3">Ejemplo</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r code-overflow-wrap number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">gf_point</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, <span class="at">data =</span> penguins_data, </span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="at">color =</span> <span class="sc">~</span>species) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Profundidad y longitud del pico"</span>, </span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="at">subtitle =</span> <span class="st">"Dimensiones para pingüinos en Adelie,</span></span>
<span id="cb54-4"><a href="#cb54-4"></a><span class="st">         Chinstrap, and Gentoo"</span>, </span>
<span id="cb54-5"><a href="#cb54-5"></a><span class="at">x =</span> <span class="st">"Profundidad del pico (mm)"</span>, <span class="at">y =</span> <span class="st">"Longitud del pico (mm)"</span>,</span>
<span id="cb54-6"><a href="#cb54-6"></a><span class="at">color =</span> <span class="st">"Especie"</span>) <span class="sc">+</span>  <span class="fu">scale_color_viridis_d</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Herramientas_files/figure-revealjs/unnamed-chunk-34-1.png" class="img-fluid figure-img" data-fig-pos="center" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mini-actividad-solo-mode-2" class="level3">
<h3 class="anchored" data-anchor-id="mini-actividad-solo-mode-2">Mini-actividad (<em>solo</em> mode)</h3>
<ol type="1">
<li><p>Accede a la siguiente liga:</p>
<p><a href="https://colab.research.google.com/drive/1c-sy5yQY1DwgaZAI6YnDLMTEYMpLCWyX?usp=sharing" class="uri">https://colab.research.google.com/drive/1c-sy5yQY1DwgaZAI6YnDLMTEYMpLCWyX?usp=sharing</a></p></li>
<li><p>Copia el archivo Google Colab en tu drive.</p></li>
<li><p>Contesta las preguntas.</p></li>
</ol>
</section>
</section>
<section id="regresar-a-página-principal" class="level2">
<h2 class="anchored" data-anchor-id="regresar-a-página-principal"><a href="https://alanrvazquez.github.io/TEC-IN2039-Website/TEC-IN2039-Website.html">Regresar a página principal</a></h2>


</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>