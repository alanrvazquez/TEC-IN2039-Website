<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alan R. Vázquez">

<title>IN2039 Data Visualization - Tipos de Variables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
<script src="../site_libs/countdown-0.4.0/countdown.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../IN2039_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">IN2039 Data Visualization</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Tipos de Variables</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TEC-IN2039-Website.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#agenda" id="toc-agenda" class="nav-link active" data-scroll-target="#agenda">Agenda</a></li>
  <li><a href="#tipos-de-variables" id="toc-tipos-de-variables" class="nav-link" data-scroll-target="#tipos-de-variables">Tipos de variables</a></li>
  <li><a href="#variables-numéricas" id="toc-variables-numéricas" class="nav-link" data-scroll-target="#variables-numéricas">Variables numéricas</a></li>
  <li><a href="#tipos-de-variables-numéricas" id="toc-tipos-de-variables-numéricas" class="nav-link" data-scroll-target="#tipos-de-variables-numéricas">Tipos de variables numéricas</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#variables-categóricas" id="toc-variables-categóricas" class="nav-link" data-scroll-target="#variables-categóricas">Variables categóricas</a></li>
  <li><a href="#clasificación-de-variables-categóricas" id="toc-clasificación-de-variables-categóricas" class="nav-link" data-scroll-target="#clasificación-de-variables-categóricas">Clasificación de variables categóricas</a></li>
  <li><a href="#variable-categórica-nominal" id="toc-variable-categórica-nominal" class="nav-link" data-scroll-target="#variable-categórica-nominal">Variable categórica nominal</a></li>
  <li><a href="#variable-categórica-ordinal" id="toc-variable-categórica-ordinal" class="nav-link" data-scroll-target="#variable-categórica-ordinal">Variable categórica ordinal</a></li>
  <li><a href="#interesante" id="toc-interesante" class="nav-link" data-scroll-target="#interesante">Interesante…</a></li>
  <li><a href="#recuerda" id="toc-recuerda" class="nav-link" data-scroll-target="#recuerda">Recuerda</a></li>
  <li><a href="#un-a-diferencia-general-es" id="toc-un-a-diferencia-general-es" class="nav-link" data-scroll-target="#un-a-diferencia-general-es">Un a diferencia general es …</a></li>
  <li><a href="#cómo-checar-el-tipo-de-variable-en-r" id="toc-cómo-checar-el-tipo-de-variable-en-r" class="nav-link" data-scroll-target="#cómo-checar-el-tipo-de-variable-en-r">¿Cómo checar el tipo de variable en R?</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#mini-actividad-cooperative-mode" id="toc-mini-actividad-cooperative-mode" class="nav-link" data-scroll-target="#mini-actividad-cooperative-mode">Mini-actividad (<em>cooperative</em> mode)</a></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr">dplyr</a>
  <ul class="collapse">
  <li><a href="#una-nueva-librería-dplyr" id="toc-una-nueva-librería-dplyr" class="nav-link" data-scroll-target="#una-nueva-librería-dplyr">Una nueva librería: dplyr</a></li>
  <li><a href="#pipe" id="toc-pipe" class="nav-link" data-scroll-target="#pipe">pipe</a></li>
  <li><a href="#otras-funciones-de-dplyr" id="toc-otras-funciones-de-dplyr" class="nav-link" data-scroll-target="#otras-funciones-de-dplyr">Otras funciones de dplyr</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><code>filter()</code></a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><code>select()</code></a></li>
  <li><a href="#select-y-filter" id="toc-select-y-filter" class="nav-link" data-scroll-target="#select-y-filter"><code>select()</code> y <code>filter()</code></a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate"><code>mutate()</code></a></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange"><code>arrange()</code></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#summarise" id="toc-summarise" class="nav-link" data-scroll-target="#summarise"><code>summarise()</code></a></li>
  <li><a href="#comentarios-finales" id="toc-comentarios-finales" class="nav-link" data-scroll-target="#comentarios-finales">Comentarios finales</a></li>
  </ul></li>
  <li><a href="#regresar-a-página-principal" id="toc-regresar-a-página-principal" class="nav-link" data-scroll-target="#regresar-a-página-principal">Regresar a página principal</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Slides_Types.slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tipos de Variables</h1>
<p class="subtitle lead">IN2039: Visualización de Datos</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Alan R. Vázquez </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Departamento de Ingeniería Industrial
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="agenda" class="level3">
<h3 class="anchored" data-anchor-id="agenda">Agenda</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li><p>¿De qué tipo es mi variable?</p>
<p><img src="images/clipboard-2750534250.png" class="img-fluid"></p></li>
</ol>
</div><div class="column" style="width:50%;">
<ol start="2" type="1">
<li><p>dplyr</p>
<p><img src="images/clipboard-4025446454.png" class="img-fluid" width="245"></p></li>
</ol>
</div>
</div>
</section>
<section id="tipos-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-variables">Tipos de variables</h3>
<p>Antes de hacer una gráfica, debemos examinar el tipo de valor que toman las variables de nuestros datos.</p>
<p>. . .</p>
<p>Hay dos tipos principales de variables:</p>
<div class="incremental">
<ul class="incremental">
<li><p><span style="color:darkblue;">Variables numéricas.</span></p></li>
<li><p><span style="color:darkred;">Variables categóricas.</span></p></li>
</ul>
</div>
</section>
<section id="variables-numéricas" class="level3">
<h3 class="anchored" data-anchor-id="variables-numéricas">Variables numéricas</h3>
<p>Toman valores que representan medidas numéricas o cantidades.</p>
<div class="incremental">
<ul class="incremental">
<li><p>Altura (en centímetros).</p></li>
<li><p>Peso (en kilogramos).</p></li>
<li><p>Edad (en años).</p></li>
<li><p>Precio (en dolares).</p></li>
<li><p>Tiempo (en horas o segundos).</p></li>
<li><p>Puntuación en un examen (número de puntos en base de 100).</p></li>
</ul>
</div>
</section>
<section id="tipos-de-variables-numéricas" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-variables-numéricas">Tipos de variables numéricas</h3>
<p>Las variables numéricas se dividen en dos tipos:</p>
<ul>
<li><span style="color:darkblue;"><em>Discretas</em></span>: variables que toman valores enteros.</li>
</ul>
<p>. . .</p>
<p>Por ejemplo:</p>
<ol type="1">
<li>Cantidad de hijos (0, 1, 2, o 3)</li>
<li>Número de estudiantes en una clase (20, 30, o 35)</li>
<li>Número de libros en una biblioteca (10000, 15000, 20000)</li>
</ol>
</section>
<section id="section" class="level3">
<h3 class="anchored" data-anchor-id="section"></h3>
<ul>
<li><span style="color:darkblue;"><em>Continuas</em></span>: variables con un número de valores diferentes infinito (o muy muy grande).</li>
</ul>
<p>. . .</p>
<p>Por ejemplo:</p>
<ol type="1">
<li>Altura de una persona (puede estar en el <em>rango</em> de 1.60 m a 1.85 m)</li>
<li>Temperatura ambiente (puede estar en el <em>rango</em> de -30 <span class="math inline">\(^\circ\)</span>C a 50 <span class="math inline">\(^\circ\)</span>C)</li>
<li>Tiempo que tarda un Uber en llegar (<em>entre</em> 5 y 60 minutos)</li>
</ol>
</section>
<section id="variables-categóricas" class="level3">
<h3 class="anchored" data-anchor-id="variables-categóricas">Variables categóricas</h3>
<p>Toman valores que se colocan en <em>categorías</em>.</p>
<p>. . .</p>
<blockquote class="blockquote">
<p>Una <strong>categoría</strong> es una clase o división de personas o cosas que tienen características particulares compartidas.</p>
</blockquote>
<p>. . .</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 72%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Variable</strong></td>
<td><strong>Categorias</strong></td>
</tr>
<tr class="even">
<td>Reseña en Amazon</td>
<td>1<span class="math inline">\(\bigstar\)</span>, 2<span class="math inline">\(\bigstar\)</span>, 3<span class="math inline">\(\bigstar\)</span>, 4<span class="math inline">\(\bigstar\)</span>, 5<span class="math inline">\(\bigstar\)</span></td>
</tr>
<tr class="odd">
<td>País de origen</td>
<td>México, Canadá, EUA</td>
</tr>
<tr class="even">
<td>Código postal</td>
<td>72703, 90034, 3000, …</td>
</tr>
</tbody>
</table>
</section>
<section id="clasificación-de-variables-categóricas" class="level3">
<h3 class="anchored" data-anchor-id="clasificación-de-variables-categóricas">Clasificación de variables categóricas</h3>
<p>Las variables categóricas se dividen en dos tipos importantes:</p>
<ul>
<li><span style="color:darkred;"><em>Nominales</em></span></li>
<li><span style="color:darkgreen;"><em>Ordinales</em></span></li>
</ul>
<div class="notes">
<p>Dependiendo si las categorias tienen orden o no.</p>
</div>
</section>
<section id="variable-categórica-nominal" class="level3">
<h3 class="anchored" data-anchor-id="variable-categórica-nominal">Variable categórica nominal</h3>
<p>Una variable categórica es nominal si sus categorías <strong>no</strong> tienen orden.</p>
<p>. . .</p>
<p>Por ejemplo:</p>
<div class="incremental">
<ul class="incremental">
<li>Afiliación a partidos políticos (demócrata o republicano).</li>
<li>Tipo de perro (pastor, sabueso, terrier, otro).</li>
<li>Sistema operativo de la computadora (Windows, macOS, Linux).</li>
</ul>
</div>
</section>
<section id="variable-categórica-ordinal" class="level3">
<h3 class="anchored" data-anchor-id="variable-categórica-ordinal">Variable categórica ordinal</h3>
<p>Una variable categórica es ordinal si sus categorías <strong>tienen orden</strong>.</p>
<p>. . .</p>
<p>Por ejemplo:</p>
<div class="incremental">
<ul class="incremental">
<li>Talla de camiseta (pequeña, mediana, grande).</li>
<li>Nivel de educación (secundaria, universidad, posgrado).</li>
<li>Nivel de ingreso (menos de $50K, $550k-$5100K, mas de $100K).</li>
</ul>
</div>
<div class="notes">
<p>It is important to note that with an ordinal feature, the difference between, say, small and medium need not be the same as the difference between medium and large. Also, the differences between consecutive categories may not even be quantifiable. Think of the number of stars in a restaurant review and what one star means in comparison to two stars.</p>
</div>
</section>
<section id="interesante" class="level3">
<h3 class="anchored" data-anchor-id="interesante">Interesante…</h3>
<p>Valores enteros (por ejemplo, 1, 2, 3, …, 5) pueden representar categóricas nominales u ordinales.</p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td>Representación</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td><strong>Tipo de Sangre</strong></td>
<td><em>A</em></td>
<td><em>B</em></td>
<td><em>AB</em></td>
<td><em>O</em></td>
</tr>
<tr class="odd">
<td><strong>Reseña</strong></td>
<td><em>Mala</em></td>
<td><em>Regular</em></td>
<td><em>Buena</em></td>
<td><em>Muy Buena</em></td>
</tr>
</tbody>
</table>
<!-- -->
<p>. . .</p>
<p>En la práctica, los valores booleanos (<code>TRUE</code> y <code>FALSE</code>) a menudo representan categorías nominales.</p>
</section>
<section id="recuerda" class="level3">
<h3 class="anchored" data-anchor-id="recuerda">Recuerda</h3>
<p><img src="images/clipboard-2750534250.png" class="img-fluid"></p>
</section>
<section id="un-a-diferencia-general-es" class="level3">
<h3 class="anchored" data-anchor-id="un-a-diferencia-general-es">Un a diferencia general es …</h3>
<ul>
<li><p>Variables cuantitativas (discretas o continuas) son en las cuales la suma o resta de sus valores tiene sentido.</p></li>
<li><p>Variables categóricas (nominales u ordinales) son en las cuales la suma o resta de sus valores <strong>no</strong> tiene sentido.</p></li>
</ul>
</section>
<section id="cómo-checar-el-tipo-de-variable-en-r" class="level3">
<h3 class="anchored" data-anchor-id="cómo-checar-el-tipo-de-variable-en-r">¿Cómo checar el tipo de variable en R?</h3>
<p>Una ves cargando los datos en R, podemos ver el tipo de variable al imprimir la tabla de datos. Por ejemplo, consideremos el conjunto de datos <code>penguins.xlsx</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprime las primeras 6 filas de los datos.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="section-1" class="level3">
<h3 class="anchored" data-anchor-id="section-1"></h3>
<p>Las abreviaturas de letras debajo de los nombres de las columnas. Estos describen el tipo de cada variable:</p>
<div class="incremental">
<ul class="incremental">
<li><p><code>dbl</code> significa dobles o números reales. Para variables <span style="color:darkblue;"><em>continuas</em></span>.</p></li>
<li><p><code>int</code> significa enteros. Para variables <span style="color:darkblue;"><em>discretas</em></span>.</p></li>
<li><p><code>fctr</code> significa factores, que R usa para representar variables categóricas <span style="color:darkred;"><em>nominales</em></span> y <span style="color:darkgreen;"><em>ordinales</em></span> con valores posibles fijos.</p></li>
<li><p><code>lgl</code> significa lógico, vectores que solo contienen <code>TRUE</code> o <code>FALSE</code>. Para variables categóricas <span style="color:darkred;"><em>nominales</em></span>.</p></li>
</ul>
</div>
</section>
<section id="section-2" class="level3">
<h3 class="anchored" data-anchor-id="section-2"></h3>
<p>También hay otros tres tipos especiales de variables:</p>
<ul>
<li><p><code>dttm</code> significa fechas y horas (una fecha + una hora).</p></li>
<li><p><code>date</code> significa fechas.</p></li>
<li><p><code>chr</code> significa vectores de caracteres o cadenas.</p></li>
</ul>
<p>. . .</p>
<p>Más adelante veremos como transformar una variable <code>chr</code> en <code>fctr</code>.</p>
</section>
<section id="mini-actividad-cooperative-mode" class="level3">
<h3 class="anchored" data-anchor-id="mini-actividad-cooperative-mode">Mini-actividad (<em>cooperative</em> mode)</h3>
<ol type="1">
<li><p>Ve al repositorio de conjuntos de datos de la Universidad de California en Irvine: <a href="https://archive.ics.uci.edu/" class="uri">https://archive.ics.uci.edu/</a></p></li>
<li><p>Explora el sitio y busca un conjunto de datos que incluya al menos una variable numérica y una categórica.</p></li>
<li><p>Descarga los datos y transforma el archivo en un archivo de excel (.xlsx) si es necesario.</p></li>
<li><p>Sube los datos a un archivo de Google Colab y cárgalos en R usando las funciones antes vistas.</p></li>
<li><p>Describe el tipo de variables en el conjunto de datos.</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_808c26db" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">30</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="dplyr" class="level2">
<h2 class="anchored" data-anchor-id="dplyr">dplyr</h2>
<section id="una-nueva-librería-dplyr" class="level3">
<h3 class="anchored" data-anchor-id="una-nueva-librería-dplyr">Una nueva librería: dplyr</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tidyverse.jpeg" class="quarto-figure quarto-figure-center figure-img" width="465" height="375"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li><p><strong>dplyr</strong> permite manipular datos y generar resúmenes estadísticos.</p></li>
<li><p>Es parte de una colección de paquetes de ciencia de datos llamado <em>tidyverse</em>.</p></li>
<li><p><a href="https://dplyr.tidyverse.org/" class="uri">https://dplyr.tidyverse.org/</a></p></li>
</ul>
</div>
</div>
<p>Cárgala en Google Colab con el siguiente código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pipe" class="level3">
<h3 class="anchored" data-anchor-id="pipe">pipe</h3>
<p>Uno de los comandos más importantes de <strong>dplyr</strong> es <code>pipe</code> que se ejecuta con el operador <code>%&gt;%</code>. Este operador envía un objeto a una función o expresión de llamada.</p>
<p>La grámatica para usar pipe es la siguiente:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3314164992.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="otras-funciones-de-dplyr" class="level3">
<h3 class="anchored" data-anchor-id="otras-funciones-de-dplyr">Otras funciones de dplyr</h3>
<p><strong>dplyr</strong> es una gramática de manipulación de datos que proporciona un conjunto coherente de verbos que le ayudan a resolver los desafíos más comunes de manipulación de datos:</p>
<ul>
<li><p><code>filter()</code> selecciona casos según sus valores.</p></li>
<li><p><code>select()</code> selecciona variables según sus nombres.</p></li>
<li><p><code>mutate()</code> agrega nuevas variables que son funciones de variables existentes</p></li>
<li><p><code>arrange()</code> cambia el orden de las filas.</p></li>
<li><p><code>summarise()</code> reduce múltiples valores a un único resumen.</p></li>
</ul>
</section>
<section id="section-3" class="level3">
<h3 class="anchored" data-anchor-id="section-3"></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2829866229.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Para esto, usaremos el conjunto de datos <code>penguins_data</code>.</p>
</section>
<section id="filter" class="level3">
<h3 class="anchored" data-anchor-id="filter"><code>filter()</code></h3>
<p>Filtremos los datos para la especie “Gentoo.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Gentoo"</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Gentoo  Biscoe           46.1          13.2               211        4500
2 Gentoo  Biscoe           50            16.3               230        5700
3 Gentoo  Biscoe           48.7          14.1               210        4450
4 Gentoo  Biscoe           50            15.2               218        5700
5 Gentoo  Biscoe           47.6          14.5               215        5400
6 Gentoo  Biscoe           46.5          13.5               210        4550
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>La función <code>head()</code> permite imprimir las primeras 6 filas de los datos.</p>
</blockquote>
</section>
<section id="section-4" class="level3">
<h3 class="anchored" data-anchor-id="section-4"></h3>
<p>También podemos filtrar los datos para obtener los pingüinos con una masa corporal mayor que 5000.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(body_mass_g <span class="sc">&gt;</span> <span class="dv">5000</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Gentoo  Biscoe           50            16.3               230        5700
2 Gentoo  Biscoe           50            15.2               218        5700
3 Gentoo  Biscoe           47.6          14.5               215        5400
4 Gentoo  Biscoe           46.7          15.3               219        5200
5 Gentoo  Biscoe           46.8          15.4               215        5150
6 Gentoo  Biscoe           49            16.1               216        5550
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="select" class="level3">
<h3 class="anchored" data-anchor-id="select"><code>select()</code></h3>
<p>Selecciona las columnas <code>species</code>, <code>body_mass_g</code> y <code>sex</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, body_mass_g, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species body_mass_g sex   
   &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt; 
 1 Adelie         3750 male  
 2 Adelie         3800 female
 3 Adelie         3250 female
 4 Adelie           NA &lt;NA&gt;  
 5 Adelie         3450 female
 6 Adelie         3650 male  
 7 Adelie         3625 female
 8 Adelie         4675 male  
 9 Adelie         3475 NA    
10 Adelie         4250 NA    
# ℹ 334 more rows</code></pre>
</div>
</div>
</section>
<section id="select-y-filter" class="level3">
<h3 class="anchored" data-anchor-id="select-y-filter"><code>select()</code> y <code>filter()</code></h3>
<p>Selecciona las columnas <code>species</code>, <code>body_mass_g</code> y <code>sex</code>. Después, filtra los datos para la especie “Gentoo.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Gentoo"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  species body_mass_g sex   
  &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt; 
1 Gentoo         4500 female
2 Gentoo         5700 male  
3 Gentoo         4450 female
4 Gentoo         5700 male  
5 Gentoo         5400 male  
6 Gentoo         4550 female</code></pre>
</div>
</div>
</section>
<section id="mutate" class="level3">
<h3 class="anchored" data-anchor-id="mutate"><code>mutate()</code></h3>
<p>Con <code>mutate()</code>, podemos agregar nuevas columnas (variables) que son funciones de las columnas en los datos. Por ejemplo, podemos calcular la división de <code>bill_length_mm</code> y <code>bill_depth_mm</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"RadioLengthDepth"</span> <span class="ot">=</span> bill_length_mm<span class="sc">/</span>bill_depth_mm) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g, sex, RadioLengthDepth) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  species body_mass_g sex    RadioLengthDepth
  &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt;
1 Adelie         3750 male               2.09
2 Adelie         3800 female             2.27
3 Adelie         3250 female             2.24
4 Adelie           NA &lt;NA&gt;              NA   
5 Adelie         3450 female             1.90
6 Adelie         3650 male               1.91</code></pre>
</div>
</div>
</section>
<section id="arrange" class="level3">
<h3 class="anchored" data-anchor-id="arrange"><code>arrange()</code></h3>
<p>Podemos ordenar los datos en función de una columna, digamos <code>bill_length_mm</code>. Para ordenar de forma descendente usamos <code>desc(bill_length_mm)</code> en <code>arrange()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bill_length_mm)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Gentoo    Biscoe           59.6          17                 230        6050
2 Chinstrap Dream            58            17.8               181        3700
3 Gentoo    Biscoe           55.9          17                 228        5600
4 Chinstrap Dream            55.8          19.8               207        4000
5 Gentoo    Biscoe           55.1          16                 230        5850
6 Gentoo    Biscoe           54.3          15.7               231        5650
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="section-5" class="level3">
<h3 class="anchored" data-anchor-id="section-5"></h3>
<p>Para ordenar de forma ascendente usamos</p>
<p><code>desc(-bill_length_mm)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="sc">-</span>bill_length_mm)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Dream               32.1          15.5               188        3050
2 Adelie  Dream               33.1          16.1               178        2900
3 Adelie  Torgersen           33.5          19                 190        3600
4 Adelie  Dream               34            17.1               185        3400
5 Adelie  Torgersen           34.1          18.1               193        3475
6 Adelie  Torgersen           34.4          18.4               184        3325
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="summarise" class="level3">
<h3 class="anchored" data-anchor-id="summarise"><code>summarise()</code></h3>
<p>Podemos calcular el promedio de las columnas <code>bill_length_mm</code>, <code>bill_depth_mm</code>, y <code>body_mass_g</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>penguins_data <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(bill_length_mm, bill_depth_mm, body_mass_g) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">PromLength =</span> <span class="fu">mean</span>(bill_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">PromDepth =</span> <span class="fu">mean</span>(bill_depth_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">PromMass =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  PromLength PromDepth PromMass
       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1       43.9      17.2    4202.</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>El argumento <code>na.rm == TRUE</code> permite ignorar los datos faltantes.</p>
</blockquote>
</section>
<section id="comentarios-finales" class="level3">
<h3 class="anchored" data-anchor-id="comentarios-finales">Comentarios finales</h3>
<ul>
<li><p><strong>dplyr</strong> es una librería que nos permite manipular datos en R.</p></li>
<li><p>Los tipos de variable ayudan a especificar las operaciones y visualizaciones que podemos aplicar a los datos.</p></li>
<li><p>Existen gráficas apropiadas o diseñadas para visualizar variables númericas o categóricas.</p></li>
<li><p>En este curso, veremos varias gráficas para cada tipo de variable y sus combinaciones.</p></li>
</ul>
</section>
</section>
<section id="regresar-a-página-principal" class="level2">
<h2 class="anchored" data-anchor-id="regresar-a-página-principal"><a href="https://alanrvazquez.github.io/TEC-IN2039-Website/TEC-IN2039-Website.html">Regresar a página principal</a></h2>


</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>